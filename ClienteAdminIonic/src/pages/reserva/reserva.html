<ion-header>
  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>
      <strong>Reservas</strong>
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <div padding>
    <ion-segment [(ngModel)]="tipo">
      <ion-segment-button value="Reserva">
        Reservas
      </ion-segment-button>

      <ion-segment-button value="Entregado" (click)="getReservasCompletas()" >
        Entregados
      </ion-segment-button>
    </ion-segment>
  </div>

  <!-- <div>
    <ion-searchbar (ionInput)="buscar($event)"></ion-searchbar>
  </div><br> -->

  <div [ngSwitch]="tipo">
    <ion-list *ngSwitchCase="'Reserva'">

      <ion-item *ngFor="let item of Reservas" >
        <ion-thumbnail item-start>
          <img [src]="item.producto.foto.miniatura" />
        </ion-thumbnail>

        <ion-col>
          <ion-row>
            <h2><b>Negocio: {{item.negocio.nombre}}</b></h2>
          </ion-row>
          <ion-row>
            <h4><b>Producto: </b>{{item.producto.nombre}}</h4>
          </ion-row>
          <ion-row>
            <h4><b>Cantidad: </b>{{item.cantidad}}</h4>
          </ion-row>
          <!-- <ion-row>
            <h4><b>Fecha Venc.: </b>26-03-2019 18:15 hrs.</h4>
          </ion-row> -->
          <ion-row>
            <ion-col>
              <button ion-button clear small color="default" icon-start>
                {{item.precioactual}} bs
              </button>
            </ion-col>

            <!--<ion-col>
              <ion-item>
                <ion-input type="number" placeholder="1">1</ion-input>
              </ion-item>
            </ion-col>-->

            <ion-col *ngIf="item.estado=='espera'" >
              <button (click)="confirmarClick(item)"  ion-button small color="default">Confirmar</button>
            </ion-col>
            <ion-col *ngIf="item.estado=='confirmacion'" >
              <button ion-button small color="default">esperando</button>
            </ion-col>
          </ion-row>
        </ion-col>
      </ion-item>

      
    </ion-list>

    <ion-list *ngSwitchCase="'Entregado'">
      <ion-item *ngFor="let item of reservasCompletas" >
        <ion-thumbnail item-start>
          <img [src]="item.producto.foto.miniatura" />
        </ion-thumbnail>

        <ion-col>
          <ion-row>
            <h2><b>Negocio: {{item.negocio.nombre}}</b></h2>
          </ion-row>
          <ion-row>
            <h4><b>Producto: </b>{{item.producto.nombre}}</h4>
          </ion-row>
          <ion-row>
            <h4><b>Cantidad: </b>{{item.cantidad}}</h4>
          </ion-row>
          
          <!-- <ion-row>
            <h4><b>Fecha Venc.: </b>26-03-2019 18:15 hrs.</h4>
          </ion-row> -->
          <ion-row>
            <ion-col>
              <button ion-button clear small color="default" icon-start>
                {{item.precioactual}} bs
              </button>
            </ion-col>

            <!--<ion-col>
              <ion-item>
                <ion-input type="number" placeholder="1">1</ion-input>
              </ion-item>
            </ion-col>-->
          </ion-row>
        </ion-col>
      </ion-item>

    </ion-list>

  </div>

</ion-content>
